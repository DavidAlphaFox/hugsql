<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>hugsql.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Hugsql</span> <span class="project-version">0.5.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hugsql</span></div></div></li><li class="depth-2"><a href="hugsql.adapter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>adapter</span></div></a></li><li class="depth-3 branch"><a href="hugsql.adapter.clojure-java-jdbc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure-java-jdbc</span></div></a></li><li class="depth-3 branch"><a href="hugsql.adapter.clojure-jdbc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure-jdbc</span></div></a></li><li class="depth-3"><a href="hugsql.adapter.next-jdbc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>next-jdbc</span></div></a></li><li class="depth-2 branch current"><a href="hugsql.core.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="hugsql.expr-run.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>expr-run</span></div></a></li><li class="depth-2 branch"><a href="hugsql.parameters.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parameters</span></div></a></li><li class="depth-2"><a href="hugsql.parser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parser</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="hugsql.core.html#var-db-fn"><div class="inner"><span>db-fn</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-db-fn*"><div class="inner"><span>db-fn*</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-db-fn-map"><div class="inner"><span>db-fn-map</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-db-run"><div class="inner"><span>db-run</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-def-db-fns"><div class="inner"><span>def-db-fns</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-def-db-fns-from-string"><div class="inner"><span>def-db-fns-from-string</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-def-sqlvec-fns"><div class="inner"><span>def-sqlvec-fns</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-def-sqlvec-fns-from-string"><div class="inner"><span>def-sqlvec-fns-from-string</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-default-db-options"><div class="inner"><span>default-db-options</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-default-sqlvec-options"><div class="inner"><span>default-sqlvec-options</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-hugsql-command-fn"><div class="inner"><span>hugsql-command-fn</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-hugsql-result-fn"><div class="inner"><span>hugsql-result-fn</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-intern-db-fn"><div class="inner"><span>intern-db-fn</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-intern-sqlvec-fn"><div class="inner"><span>intern-sqlvec-fn</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-map-of-db-fns"><div class="inner"><span>map-of-db-fns</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-map-of-db-fns-from-string"><div class="inner"><span>map-of-db-fns-from-string</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-map-of-sqlvec-fns"><div class="inner"><span>map-of-sqlvec-fns</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-map-of-sqlvec-fns-from-string"><div class="inner"><span>map-of-sqlvec-fns-from-string</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-set-adapter.21"><div class="inner"><span>set-adapter!</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-snip"><div class="inner"><span>snip</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-snip-fn"><div class="inner"><span>snip-fn</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-sqlvec"><div class="inner"><span>sqlvec</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-sqlvec-fn"><div class="inner"><span>sqlvec-fn</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-sqlvec-fn*"><div class="inner"><span>sqlvec-fn*</span></div></a></li><li class="depth-1"><a href="hugsql.core.html#var-sqlvec-fn-map"><div class="inner"><span>sqlvec-fn-map</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">hugsql.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-db-fn"><h3>db-fn</h3><div class="usage"><code>(db-fn sql)</code><code>(db-fn sql command)</code><code>(db-fn sql command result)</code><code>(db-fn sql command result options)</code></div><div class="doc"><pre class="plaintext">Given an sql string and optionally a command, result, and options,
return an anonymous function that can run hugsql database
execute/queries and supports hugsql parameter replacement</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L463">view source</a></div></div><div class="public anchor" id="var-db-fn*"><h3>db-fn*</h3><div class="usage"><code>(db-fn* psql)</code><code>(db-fn* psql command)</code><code>(db-fn* psql command result)</code><code>(db-fn* psql command result options)</code></div><div class="doc"><pre class="plaintext">Given parsed sql and optionally a command, result, and options,
return an anonymous function that can run hugsql database
execute/queries and supports hugsql parameter replacement</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L438">view source</a></div></div><div class="public anchor" id="var-db-fn-map"><h3>db-fn-map</h3><div class="usage"><code>(db-fn-map {:keys [sql hdr file line]} options)</code></div><div class="doc"><pre class="plaintext">Hashmap of db fn from a parsed def
with the form:
{:fn-name {:meta {:doc "doc string"}
           :fn &lt;anon-db-fn&gt;}</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L474">view source</a></div></div><div class="public anchor" id="var-db-run"><h3>db-run</h3><div class="usage"><code>(db-run db sql)</code><code>(db-run db sql param-data)</code><code>(db-run db sql param-data command)</code><code>(db-run db sql param-data command result)</code><code>(db-run db sql param-data command result options &amp; command-options)</code></div><div class="doc"><pre class="plaintext">Given a database spec/connection, sql string,
parameter data, and optional command, result,
and options, run the sql statement</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L652">view source</a></div></div><div class="public anchor" id="var-def-db-fns"><h3>def-db-fns</h3><h4 class="type">macro</h4><div class="usage"><code>(def-db-fns file)</code><code>(def-db-fns file options)</code></div><div class="doc"><pre class="plaintext">Given a HugSQL SQL file, define the database
functions in the current namespace.

Usage:

(def-db-fns file options?)

where:
 - file is a string file path in your classpath,
   a resource object (java.net.URL),
   or a file object (java.io.File)
 - options (optional) hashmap:
   {:quoting :off(default) | :ansi | :mysql | :mssql
    :adapter adapter }

:quoting options for identifiers are:
  :ansi double-quotes: "identifier"
  :mysql backticks: `identifier`
  :mssql square brackets: [identifier]
  :off no quoting (default)

Identifiers containing a period/dot . are split, quoted separately,
and then rejoined. This supports myschema.mytable conventions.

:quoting can be overridden as an option in the calls to functions
created by def-db-fns.

:adapter specifies the HugSQL adapter to use for all defined
functions. The default adapter used is
(hugsql.adapter.clojure-java-jdbc/hugsql-adapter-clojure-java-jdbc)
when :adapter is not given.

See also hugsql.core/set-adapter! to set adapter for all def-db-fns
calls.  Also, :adapter can be specified for individual function
calls (overriding set-adapter! and the :adapter option here).</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L513">view source</a></div></div><div class="public anchor" id="var-def-db-fns-from-string"><h3>def-db-fns-from-string</h3><h4 class="type">macro</h4><div class="usage"><code>(def-db-fns-from-string s)</code><code>(def-db-fns-from-string s options)</code></div><div class="doc"><pre class="plaintext">Given a HugSQL SQL string, define the database
functions in the current namespace.

Usage:

(def-db-fns-from-string s options?)

where:
 - s is a string of HugSQL-flavored sql statements
 - options (optional) hashmap:
   {:quoting :off(default) | :ansi | :mysql | :mssql
    :adapter adapter }

See hugsql.core/def-db-fns for :quoting and :adapter details.</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L558">view source</a></div></div><div class="public anchor" id="var-def-sqlvec-fns"><h3>def-sqlvec-fns</h3><h4 class="type">macro</h4><div class="usage"><code>(def-sqlvec-fns file)</code><code>(def-sqlvec-fns file options)</code></div><div class="doc"><pre class="plaintext">Given a HugSQL SQL file, define the &lt;name&gt;-sqlvec functions in the
current namespace.  Returns sqlvec format: a vector of SQL and
parameter values. (e.g., ["select * from test where id = ?" 42])

Usage:

 (def-sqlvec-fns file options?)

 where:
  - file is a string file path in your classpath,
    a resource object (java.net.URL),
    or a file object (java.io.File)
  - options (optional) hashmap:
    {:quoting :off(default) | :ansi | :mysql | :mssql
     :fn-suffix "-sqlvec" (default)

 See hugsql.core/def-db-fns for :quoting option details.

 :fn-suffix is appended to the defined function names to
 differentiate them from the functions defined by def-db-fns.</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L316">view source</a></div></div><div class="public anchor" id="var-def-sqlvec-fns-from-string"><h3>def-sqlvec-fns-from-string</h3><h4 class="type">macro</h4><div class="usage"><code>(def-sqlvec-fns-from-string s)</code><code>(def-sqlvec-fns-from-string s options)</code></div><div class="doc"><pre class="plaintext">Given a HugSQL SQL string, define the &lt;name&gt;-sqlvec functions in the
current namespace.  Returns sqlvec format: a vector of SQL and
parameter values. (e.g., ["select * from test where id = ?" 42])

Usage:

 (def-sqlvec-fns-from-string s options?)

 where:
  - s is a HugSQL-flavored sql string
  - options (optional) hashmap:
    {:quoting :off(default) | :ansi | :mysql | :mssql
     :fn-suffix "-sqlvec" (default)

 See hugsql.core/def-db-fns for :quoting option details.

 :fn-suffix is appended to the defined function names to
 differentiate them from the functions defined by def-db-fns.</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L344">view source</a></div></div><div class="public anchor" id="var-default-db-options"><h3>default-db-options</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L199">view source</a></div></div><div class="public anchor" id="var-default-sqlvec-options"><h3>default-sqlvec-options</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L195">view source</a></div></div><div class="public anchor" id="var-hugsql-command-fn"><h3>hugsql-command-fn</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L230">view source</a></div></div><div class="public anchor" id="var-hugsql-result-fn"><h3>hugsql-result-fn</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L241">view source</a></div></div><div class="public anchor" id="var-intern-db-fn"><h3>intern-db-fn</h3><div class="usage"><code>(intern-db-fn pdef options)</code></div><div class="doc"><pre class="plaintext">Intern the db fn from a parsed def
</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L500">view source</a></div></div><div class="public anchor" id="var-intern-sqlvec-fn"><h3>intern-sqlvec-fn</h3><div class="usage"><code>(intern-sqlvec-fn pdef options)</code></div><div class="doc"><pre class="plaintext">Intern the sqlvec fn from a parsed def
</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L307">view source</a></div></div><div class="public anchor" id="var-map-of-db-fns"><h3>map-of-db-fns</h3><h4 class="type">macro</h4><div class="usage"><code>(map-of-db-fns file)</code><code>(map-of-db-fns file options)</code></div><div class="doc"><pre class="plaintext">Given a HugSQL SQL file, return a hashmap of database
functions of the form:

{:fn1-name {:meta {:doc "doc string"}
            :fn &lt;fn1&gt;}
 :fn2-name {:meta {:doc "doc string"
                   :private true}
            :fn &lt;fn2&gt;}}

Usage:

(map-of-db-fns file options?)

where:
 - file is a string file path in your classpath,
   a resource object (java.net.URL),
   or a file object (java.io.File)
 - options (optional) hashmap:
   {:quoting :off(default) | :ansi | :mysql | :mssql
    :adapter adapter }

See hugsql.core/def-db-fns for :quoting and :adapter details.</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L582">view source</a></div></div><div class="public anchor" id="var-map-of-db-fns-from-string"><h3>map-of-db-fns-from-string</h3><h4 class="type">macro</h4><div class="usage"><code>(map-of-db-fns-from-string s)</code><code>(map-of-db-fns-from-string s options)</code></div><div class="doc"><pre class="plaintext">Given a HugSQL SQL string, return a hashmap of database
functions of the form:

{:fn1-name {:meta {:doc "doc string"}
            :fn &lt;fn1&gt;}
 :fn2-name {:meta {:doc "doc string"
                   :private true}
            :fn &lt;fn2&gt;}}

Usage:

(map-of-db-fns-from-string s options?)

where:
 - s is a string of HugSQL-flavored sql statements
 - options (optional) hashmap:
   {:quoting :off(default) | :ansi | :mysql | :mssql
    :adapter adapter }

See hugsql.core/def-db-fns for :quoting and :adapter details.</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L618">view source</a></div></div><div class="public anchor" id="var-map-of-sqlvec-fns"><h3>map-of-sqlvec-fns</h3><h4 class="type">macro</h4><div class="usage"><code>(map-of-sqlvec-fns file)</code><code>(map-of-sqlvec-fns file options)</code></div><div class="doc"><pre class="plaintext">Given a HugSQL SQL file, return a hashmap of database
 functions of the form:

 {:fn1-name {:meta {:doc "doc string"}
             :fn &lt;fn1&gt;}
  :fn2-name {:meta {:doc "doc string"
                    :private true}
             :fn &lt;fn2&gt;}}

Usage:

 (map-sqlvec-fns file options?)

 where:
  - file is a string file path in your classpath,
    a resource object (java.net.URL),
    or a file object (java.io.File)
  - options (optional) hashmap:
    {:quoting :off(default) | :ansi | :mysql | :mssql
     :fn-suffix "-sqlvec" (default)

 See hugsql.core/def-db-fns for :quoting option details.

 :fn-suffix is appended to the defined function names to
 differentiate them from the functions defined by def-db-fns.</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L370">view source</a></div></div><div class="public anchor" id="var-map-of-sqlvec-fns-from-string"><h3>map-of-sqlvec-fns-from-string</h3><h4 class="type">macro</h4><div class="usage"><code>(map-of-sqlvec-fns-from-string s)</code><code>(map-of-sqlvec-fns-from-string s options)</code></div><div class="doc"><pre class="plaintext">Given a HugSQL SQL string, return a hashmap of sqlvec
 functions of the form:

 {:fn1-name {:meta {:doc "doc string"}
             :fn &lt;fn1&gt;}
  :fn2-name {:meta {:doc "doc string"
                    :private true}
             :fn &lt;fn2&gt;}}

Usage:

 (map-sqlvec-fns-from-string s options?)

 where:
  - s is a HugSQL-flavored sql string
  - options (optional) hashmap:
    {:quoting :off(default) | :ansi | :mysql | :mssql
     :fn-suffix "-sqlvec" (default)

 See hugsql.core/def-db-fns for :quoting option details.

 :fn-suffix is appended to the defined function names to
 differentiate them from the functions defined by def-db-fns.</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L405">view source</a></div></div><div class="public anchor" id="var-set-adapter.21"><h3>set-adapter!</h3><div class="usage"><code>(set-adapter! the-adapter)</code></div><div class="doc"><pre class="plaintext">Set a global adapter.
</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L12">view source</a></div></div><div class="public anchor" id="var-snip"><h3>snip</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alias for sqlvec
</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L279">view source</a></div></div><div class="public anchor" id="var-snip-fn"><h3>snip-fn</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alias for sqlvec-fn
</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L270">view source</a></div></div><div class="public anchor" id="var-sqlvec"><h3>sqlvec</h3><div class="usage"><code>(sqlvec sql param-data)</code><code>(sqlvec sql options param-data)</code></div><div class="doc"><pre class="plaintext">Given an sql string, optional options, and param data, return an sqlvec
</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L272">view source</a></div></div><div class="public anchor" id="var-sqlvec-fn"><h3>sqlvec-fn</h3><div class="usage"><code>(sqlvec-fn sql)</code><code>(sqlvec-fn sql options)</code></div><div class="doc"><pre class="plaintext">Given an sql string and optional options, return an
anonymous function that returns hugsql sqlvec format</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L262">view source</a></div></div><div class="public anchor" id="var-sqlvec-fn*"><h3>sqlvec-fn*</h3><div class="usage"><code>(sqlvec-fn* psql)</code><code>(sqlvec-fn* psql options)</code></div><div class="doc"><pre class="plaintext">Given parsed sql and optional options, return an
anonymous function that returns hugsql sqlvec format</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L251">view source</a></div></div><div class="public anchor" id="var-sqlvec-fn-map"><h3>sqlvec-fn-map</h3><div class="usage"><code>(sqlvec-fn-map {:keys [sql hdr]} options)</code></div><div class="doc"><pre class="plaintext">Hashmap of sqlvec/snip fn from a parsed def
with the form:
{:fn-name {:meta {:doc "doc string"}
           :fn &lt;anon-db-fn&gt;}</pre></div><div class="src-link"><a href="http://github.com/layerware/hugsql/blob/0.5.1/hugsql-core/src/hugsql/core.clj#L281">view source</a></div></div></div></body></html>